2025-10-26 14:51:57,091 - src.job_runner - INFO - 启动JobRunner，轮询间隔: 2秒
2025-10-26 14:51:57,093 - src.job_runner - INFO - JobRunner主循环已启动，开始轮询任务...
2025-10-26 14:51:57,093 - src.job_runner - INFO - JobRunner后台线程已启动
2025-10-26 14:51:57,142 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-10-26 14:51:57,143 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-10-26 14:53:29,075 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:53:29] "GET /api/files/pics?master_user_id=admin&store_id=store HTTP/1.1" 200 -
2025-10-26 14:53:31,583 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:53:31] "GET /api/files/pics/captcha.png?master_user_id=admin&store_id=store HTTP/1.1" 200 -
2025-10-26 14:53:39,185 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:53:39] "GET /api/files/pics/captcha.png?master_user_id=admin&store_id=store HTTP/1.1" 200 -
2025-10-26 14:53:58,136 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:53:58] "GET /api/template_files/all?master_user_id=1&store_id=2 HTTP/1.1" 200 -
2025-10-26 14:54:04,337 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:54:04] "GET /api/files/pics/captcha.png?master_user_id=admin&store_id=store HTTP/1.1" 200 -
2025-10-26 14:54:04,592 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:54:04] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-26 14:54:56,004 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:54:56] "GET /api/files/pics/captcha.png?master_user_id=admin&store_id=store HTTP/1.1" 200 -
2025-10-26 14:54:59,762 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:54:59] "GET /api/files/pics/captcha.png?master_user_id=admin&store_id=store&download=True HTTP/1.1" 200 -
2025-10-26 14:55:35,298 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:55:35] "GET /api/files/attachments?master_user_id=admin&store_id=store HTTP/1.1" 200 -
2025-10-26 14:56:01,472 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:56:01] "POST /api/assets HTTP/1.1" 200 -
2025-10-26 14:56:02,291 - werkzeug - INFO - 127.0.0.1 - - [26/Oct/2025 14:56:02] "GET /api/files/attachments?master_user_id=admin&store_id=store HTTP/1.1" 200 -
2025-10-26 14:58:40,653 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 15:25:33,436 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 15:33:38,904 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 15:47:46,275 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 15:57:03,021 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 16:47:26,207 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 16:55:01,569 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 16:56:09,945 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 17:14:32,656 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 17:15:52,248 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 17:17:26,302 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 17:17:41,433 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 17:33:08,748 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 17:33:42,875 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 17:46:33,183 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 17:47:47,580 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 17:53:44,805 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 18:08:21,713 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 19:14:12,509 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query (timed out)'), 1秒后重试...
2025-10-26 19:14:22,105 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 19:20:19,620 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 19:21:45,161 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 19:34:43,066 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query (timed out)'), 1秒后重试...
2025-10-26 19:40:36,970 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 19:43:53,461 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 19:51:45,371 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 19:52:24,738 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 19:59:13,646 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:00:43,062 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:01:11,927 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:06:39,181 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:08:45,020 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:11:17,741 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:17:29,392 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:25:04,990 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:28:31,398 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:33:26,013 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:33:29,551 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:33:34,085 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:33:34,085 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:33:36,622 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:33:40,165 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:34:00,696 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:34:00,697 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:34:05,409 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:34:08,949 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:34:13,491 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:34:13,492 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:34:32,036 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:34:35,583 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:34:40,128 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:34:40,128 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:34:44,669 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:34:48,223 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:35:08,762 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:35:08,764 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:35:11,304 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:35:14,839 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:35:19,380 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:35:19,381 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:35:24,000 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:35:27,544 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:35:32,079 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:35:32,080 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:35:34,626 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:35:38,166 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:35:58,712 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:35:58,712 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:36:10,276 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:36:13,814 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:36:18,356 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:36:18,357 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:36:20,888 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:36:24,436 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:36:28,971 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:36:28,972 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:36:33,502 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:36:37,050 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:36:57,584 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:36:57,585 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:37:00,126 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:37:03,659 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:37:31,230 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:37:31,230 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:37:35,780 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:37:39,315 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:37:43,849 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:37:43,850 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:37:46,386 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:37:49,926 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:37:54,463 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:37:54,463 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:37:59,011 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:38:02,551 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:38:07,087 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:38:07,088 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:38:09,621 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:38:13,157 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:38:17,705 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:38:17,706 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:38:22,256 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:38:25,796 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:38:30,331 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:38:30,332 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:38:32,866 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:38:36,404 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:38:40,945 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:38:40,946 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:39:01,497 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:39:05,042 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:39:09,585 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:39:09,586 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:39:12,117 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:39:31,657 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:39:36,192 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:39:36,192 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:39:40,729 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:39:44,272 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:39:48,802 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:39:48,802 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:39:51,334 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:39:54,864 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:39:59,397 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:39:59,398 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:40:03,927 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:40:07,462 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:40:12,005 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:40:12,006 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:40:30,542 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:40:34,075 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:40:54,609 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:40:54,610 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:40:59,155 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:41:02,687 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:41:23,221 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:41:23,221 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:41:25,751 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:41:29,279 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:41:33,809 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:41:33,810 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:41:38,348 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:41:41,886 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:41:46,417 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:41:46,418 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:41:48,958 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:41:52,495 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:41:57,036 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:41:57,036 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:42:01,579 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:42:21,112 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:42:25,644 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:42:25,644 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:42:28,182 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:42:38,739 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:42:43,281 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:42:43,282 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:42:47,822 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:42:51,356 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:42:55,895 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:42:55,896 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:42:58,437 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:43:01,984 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:43:06,513 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:43:06,513 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:43:11,050 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:43:14,594 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:43:19,134 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:43:19,134 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:43:21,670 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:43:25,206 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:43:44,780 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:43:44,780 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:43:49,322 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:43:52,854 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:43:57,386 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:43:57,386 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:43:59,922 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:44:03,457 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:44:08,000 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:44:08,001 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:44:12,549 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:44:16,100 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:44:36,636 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:44:36,636 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:44:39,178 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:44:58,705 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:45:03,246 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:45:03,247 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:45:07,784 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:45:11,320 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:45:15,853 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:45:15,853 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:45:18,390 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:45:21,932 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:45:26,489 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:45:26,489 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:45:31,025 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:45:34,563 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:45:39,106 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:45:39,107 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:45:41,647 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:45:45,193 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:45:49,734 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:45:49,734 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:45:54,272 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:45:57,824 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:46:02,374 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:46:02,375 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:46:04,906 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:46:08,456 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:46:12,994 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:46:12,995 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:46:17,535 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:46:21,079 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:46:25,615 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:46:25,615 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:46:28,151 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:46:31,689 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:46:36,224 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:46:36,224 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:46:56,774 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:47:00,311 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:47:04,852 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:47:04,853 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:47:07,386 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:47:10,924 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:47:15,470 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:47:15,470 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:47:20,015 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:47:23,546 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:47:28,079 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:47:28,080 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:47:30,616 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:47:34,147 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:47:38,687 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:47:38,687 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:47:43,224 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:47:46,753 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:48:06,322 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:48:06,322 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:48:08,849 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:48:12,384 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:48:16,924 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:48:16,924 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:48:21,468 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:48:25,008 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:48:29,535 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:48:29,536 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:48:48,070 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:48:51,607 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:48:56,137 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:48:56,137 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:49:00,686 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:49:04,220 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:49:08,756 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:49:08,757 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:49:11,295 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:49:14,836 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:49:19,382 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:49:19,383 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:49:23,921 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:49:27,450 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:49:31,984 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:49:31,985 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:49:34,515 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:49:38,048 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:49:42,577 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:49:42,577 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:49:47,130 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:50:06,661 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:50:11,199 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:50:11,200 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:50:13,740 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:50:17,277 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:50:21,821 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:50:21,821 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:50:26,358 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:50:29,893 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:50:34,440 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:50:34,441 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:50:52,967 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:50:56,515 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:51:01,062 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:51:01,062 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:51:05,599 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:51:09,138 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:51:13,669 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:51:13,670 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:51:16,204 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:51:19,745 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:51:24,286 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:51:24,286 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:51:28,823 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:51:32,355 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:51:36,891 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:51:36,892 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:51:39,433 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:51:42,972 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:51:47,508 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:51:47,508 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:51:52,058 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:51:55,601 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:52:00,145 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:52:00,146 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:52:02,692 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:52:13,732 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2003, "Can't connect to MySQL server on '120.25.232.16' (timed out)"), 2秒后重试...
2025-10-26 20:52:25,303 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:52:25,304 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:52:29,839 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:52:33,367 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:52:53,903 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:52:53,904 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:52:56,442 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:52:59,977 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:53:04,507 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:53:04,508 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:53:09,072 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:53:12,603 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:53:17,134 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:53:17,135 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:53:19,679 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:53:23,216 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:53:27,752 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:53:27,753 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:53:32,303 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:53:35,846 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:53:40,377 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:53:40,378 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:53:42,907 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:53:46,440 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:53:50,980 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:53:50,981 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:53:55,526 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:53:59,051 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:54:03,579 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:54:03,580 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:54:06,114 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:54:09,648 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:54:14,219 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:54:14,219 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:54:18,761 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:54:22,305 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:54:26,840 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:54:26,841 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:54:29,376 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:54:32,916 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:54:37,456 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:54:37,457 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:54:41,988 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:54:45,518 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:54:50,059 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:54:50,059 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:54:52,604 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:54:56,140 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:55:00,675 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:55:00,675 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:55:05,231 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:55:08,774 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:55:13,315 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:55:13,316 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:55:15,855 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:55:19,387 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:55:23,918 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:55:23,919 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:55:28,453 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:55:39,024 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:55:43,564 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:55:43,564 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:55:46,103 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:56:05,641 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:56:10,182 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:56:10,182 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:56:14,726 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:56:18,261 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:56:22,798 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:56:22,798 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:56:25,330 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:56:28,868 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:56:33,414 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:56:33,414 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:56:37,960 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:56:41,501 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:56:46,038 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:56:46,039 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:57:04,570 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:57:08,105 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:57:12,642 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:57:12,643 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:57:17,192 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:57:20,731 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:57:25,267 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:57:25,268 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:57:27,803 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:57:31,339 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:57:35,942 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:57:35,942 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:57:40,477 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:57:44,016 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:57:48,558 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:57:48,559 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:57:51,100 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:57:54,640 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:57:59,173 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:57:59,174 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:58:03,710 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:58:07,245 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:58:11,789 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:58:11,789 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:58:14,326 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:58:17,859 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:58:22,388 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:58:22,388 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:58:26,932 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:58:30,467 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:58:35,002 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:58:35,002 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:58:53,539 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:59:13,078 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:59:33,610 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:59:33,611 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:59:38,145 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 20:59:41,676 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 20:59:46,210 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 20:59:46,210 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 21:00:04,743 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 21:00:08,281 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 21:00:12,820 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 21:00:12,821 - src.job_runner - ERROR - ❌ JobRunner循环发生异常: (2013, 'Lost connection to MySQL server during query')
Traceback (most recent call last):
  File "D:\Email Assistant\src\dao_mysql.py", line 262, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Email Assistant\src\job_runner.py", line 45, in _loop
    job = get_next_queued_job()
  File "D:\Email Assistant\src\dao_mysql.py", line 280, in get_next_queued_job
    with _conn() as conn:
         ~~~~~^^
  File "D:\Email Assistant\src\dao_mysql.py", line 33, in _conn
    conn = pymysql.connect(
        host=u.hostname or "127.0.0.1",
    ...<10 lines>...
        write_timeout=60,        # 写入超时60秒
    )
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 680, in connect
    self._get_server_information()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 1099, in _get_server_information
    packet = self._read_packet()
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 751, in _read_packet
    packet_header = self._read_bytes(4)
  File "D:\Email Assistant\.venv\Lib\site-packages\pymysql\connections.py", line 805, in _read_bytes
    raise err.OperationalError(
        CR.CR_SERVER_LOST, "Lost connection to MySQL server during query"
    )
pymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')
2025-10-26 21:00:17,355 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 21:00:20,892 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-26 21:00:25,466 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 21:00:25,467 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-26 21:00:28,063 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 21:04:12,504 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 21:16:46,876 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 21:30:51,152 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query (timed out)'), 1秒后重试...
2025-10-26 21:33:47,903 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query (timed out)'), 1秒后重试...
2025-10-26 21:45:01,933 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-26 21:49:13,466 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query (timed out)'), 1秒后重试...
2025-10-26 21:57:02,700 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2003, "Can't connect to MySQL server on '120.25.232.16' ([WinError 10051] 向一个无法连接的网络尝试了一个套接字操作。)"), 1秒后重试...
2025-10-26 21:57:03,792 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2003, "Can't connect to MySQL server on '120.25.232.16' ([WinError 10051] 向一个无法连接的网络尝试了一个套接字操作。)"), 2秒后重试...
2025-10-27 03:12:49,641 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query (timed out)'), 1秒后重试...
2025-10-27 07:02:14,011 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query (timed out)'), 2秒后重试...
2025-10-27 07:02:27,305 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 08:43:00,117 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2003, "Can't connect to MySQL server on '120.25.232.16' ([WinError 10051] 向一个无法连接的网络尝试了一个套接字操作。)"), 1秒后重试...
2025-10-27 08:43:01,233 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2003, "Can't connect to MySQL server on '120.25.232.16' ([WinError 10051] 向一个无法连接的网络尝试了一个套接字操作。)"), 2秒后重试...
2025-10-27 10:19:51,713 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-27 10:19:51,714 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-27 10:19:55,239 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:15:38,884 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:15:45,195 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-27 16:15:54,904 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:16:01,211 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-27 16:16:10,913 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:16:17,222 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-27 16:16:26,936 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:16:33,242 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-27 16:16:42,994 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:16:49,305 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-27 16:16:56,615 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-27 16:16:56,616 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-27 16:17:01,928 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:17:08,235 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-27 16:17:18,023 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:17:24,332 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-27 16:17:41,326 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:18:00,301 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:18:20,311 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:18:39,259 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 16:18:57,312 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 18:00:53,338 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 18:00:54,649 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
2025-10-27 18:00:56,968 - src.dao_mysql - ERROR - 数据库连接失败，已重试3次: (2013, 'Lost connection to MySQL server during query')
2025-10-27 18:00:56,969 - src.dao_mysql - WARNING - 查询过程中数据库连接丢失，准备重试一次: (2013, 'Lost connection to MySQL server during query')
2025-10-27 18:00:57,277 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 1/3): (2013, 'Lost connection to MySQL server during query'), 1秒后重试...
2025-10-27 18:00:58,621 - src.dao_mysql - WARNING - 数据库连接失败 (尝试 2/3): (2013, 'Lost connection to MySQL server during query'), 2秒后重试...
