# ===============================
# Email Assistant - .env template
# Fill values per your environment
# ===============================

# Auth flow: 'web' for server OAuth, 'desktop' for local testing
AUTH_FLOW=web

# Path to Google OAuth client JSON file (Web application client in prod)
# For Docker, mount as read-only volume, e.g. /secrets/credentials.json
GOOGLE_OAUTH_CLIENT_JSON=secrets/credentials.json

# OAuth redirect URI (must exactly match the URI in GCP console)
OAUTH_REDIRECT_URL=http://127.0.0.1:5000/oauth/google/callback

# API key required by write endpoints (send/pause/resume/stop/templates/assets)
# Clients must set header: X-API-Key: <this value>
API_KEY=change_me

# Optional encryption key (reserved, not required now)
ENCRYPTION_KEY=

# Database (MySQL) DSN. Example:
# mysql+pymysql://user:pass@host:3306/db?charset=utf8mb4
DATABASE_URL=mysql+pymysql://user:pass@host:3306/db?charset=utf8mb4

# OAuth return_url controls
# Comma-separated allowed hosts for return_url (exact host or suffix starting with a dot)
# e.g. crm.example.com,admin.example.com or .example.com
ALLOWED_RETURN_URL_HOSTS=localhost,127.0.0.1
# Fallback redirect when return_url is missing/invalid (optional)
DEFAULT_RETURN_URL=
# Allow localhost/127.0.0.1 in return_url during local dev
ALLOW_DEV_LOCALHOST=true
